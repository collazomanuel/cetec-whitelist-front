{
  "version": 3,
  "sources": ["../../@material/mwc-base/observer.ts"],
  "sourcesContent": ["/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\n// tslint:disable:no-any\n\nimport {PropertyValues, ReactiveElement} from '@lit/reactive-element';\n\n/**\n * Observer function type.\n */\nexport interface Observer {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  (value: any, old: any): void;\n}\n\ntype ReactiveElementClass = typeof ReactiveElement;\ninterface ReactiveElementClassWithObservers extends ReactiveElementClass {\n  // tslint:disable-next-line:enforce-name-casing\n  _observers: Map<PropertyKey, Observer>;\n}\n\n/**\n * Specifies an observer callback that is run when the decorated property\n * changes. The observer receives the current and old value as arguments.\n */\nexport const observer = (observer: Observer) =>\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (proto: any, propName: PropertyKey) => {\n      // if we haven't wrapped `updated` in this class, do so\n      if (!(proto.constructor as ReactiveElementClassWithObservers)\n               ._observers) {\n        proto.constructor._observers = new Map<PropertyKey, Observer>();\n        const userUpdated = proto.updated;\n        proto.updated = function(\n            this: ReactiveElement, changedProperties: PropertyValues) {\n          userUpdated.call(this, changedProperties);\n          changedProperties.forEach((v, k) => {\n            const observers =\n                (this.constructor as ReactiveElementClassWithObservers)\n                    ._observers;\n            const observer = observers.get(k);\n            if (observer !== undefined) {\n              // eslint-disable-next-line @typescript-eslint/no-explicit-any\n              observer.call(this, (this as any)[k], v);\n            }\n          });\n        };\n        // clone any existing observers (superclasses)\n        // eslint-disable-next-line no-prototype-builtins\n      } else if (!proto.constructor.hasOwnProperty('_observers')) {\n        const observers = proto.constructor._observers;\n        proto.constructor._observers = new Map();\n        observers.forEach(\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            (v: any, k: PropertyKey) => proto.constructor._observers.set(k, v));\n      }\n      // set this method\n      proto.constructor._observers.set(propName, observer);\n    };\n"],
  "mappings": ";AAAA,AA8BO,IAAM,WAAW,CAAC,cAErB,CAAC,OAAY,aAAyB;AAEpC,MAAI,CAAE,MAAM,YACF,YAAY;AACpB,UAAM,YAAY,aAAa,oBAAI,IAAG;AACtC,UAAM,cAAc,MAAM;AAC1B,UAAM,UAAU,SACW,mBAAiC;AAC1D,kBAAY,KAAK,MAAM,iBAAiB;AACxC,wBAAkB,QAAQ,CAAC,GAAG,MAAK;AACjC,cAAM,YACD,KAAK,YACD;AACT,cAAM,YAAW,UAAU,IAAI,CAAC;AAChC,YAAI,cAAa,QAAW;AAE1B,oBAAS,KAAK,MAAO,KAAa,IAAI,CAAC;;MAE3C,CAAC;IACH;aAGS,CAAC,MAAM,YAAY,eAAe,YAAY,GAAG;AAC1D,UAAM,YAAY,MAAM,YAAY;AACpC,UAAM,YAAY,aAAa,oBAAI,IAAG;AACtC,cAAU,QAEN,CAAC,GAAQ,MAAmB,MAAM,YAAY,WAAW,IAAI,GAAG,CAAC,CAAC;;AAGxE,QAAM,YAAY,WAAW,IAAI,UAAU,SAAQ;AACrD;",
  "names": []
}
